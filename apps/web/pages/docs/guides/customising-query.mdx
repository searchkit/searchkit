---
title: Customising the Default Query
description: How to customise the default query for customised relevance
---

This example shows how to use the `getQuery` function to customise the query for a given request.

Below is an example of using the [`combined_fields` query](https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-combined-fields-query.html) instead.

```js
const results = await apiClient.handleRequest(req.body, {
  getQuery: (query, search_attributes) => {
    return [
      {
        combined_fields: {
          query,
          fields: search_attributes,
        },
      },
    ];
  },
});
```

You can also use the hooks to customise the query. For example, to add a rescore query to the default query.

Read more about [hooks](/docs/api-documentation/api#Hooks) in api-documentation.

```ts
  const results = await client.handleRequest(req.body, {
    hooks: {
      beforeSearch: (searchRequests) => {
        const uiRequest = searchRequests[0]

        return [
          {
            ...uiRequest,
            rescore: {
              window_size: 100,
              query: {
                rescore_query: {
                  match: {
                    plot: {
                      query: uiRequest.query,
                      operator: "and",
                    },
                  },
                },
                query_weight: 1,
                rescore_query_weight: 10,
              }
            }
          },
          searchRequests.slice(1, searchRequests.length)
        ]
        
      },
    }
  });
```

